(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["customerDetail_updateCustomerDetail"],{"06cf":function(t,e,r){var n=r("83ab"),a=r("d1e7"),o=r("5c6c"),s=r("fc6a"),i=r("c04e"),c=r("5135"),l=r("0cfb"),u=Object.getOwnPropertyDescriptor;e.f=n?u:function(t,e){if(t=s(t),e=i(e,!0),l)try{return u(t,e)}catch(r){}if(c(t,e))return o(!a.f.call(t,e),t[e])}},"06fe":function(t,e,r){"use strict";var n=r("2437"),a=r.n(n);a.a},"0d03":function(t,e,r){var n=r("6eeb"),a=Date.prototype,o="Invalid Date",s="toString",i=a[s],c=a.getTime;new Date(NaN)+""!=o&&n(a,s,(function(){var t=c.call(this);return t===t?i.call(this):o}))},1276:function(t,e,r){"use strict";var n=r("d784"),a=r("44e7"),o=r("825a"),s=r("1d80"),i=r("4840"),c=r("8aa5"),l=r("50c4"),u=r("14c3"),p=r("9263"),f=r("d039"),d=[].push,m=Math.min,h=4294967295,g=!f((function(){return!RegExp(h,"y")}));n("split",2,(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(s(this)),o=void 0===r?h:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!a(t))return e.call(n,t,o);var i,c,l,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,g=new RegExp(t.source,f+"g");while(i=p.call(g,n)){if(c=g.lastIndex,c>m&&(u.push(n.slice(m,i.index)),i.length>1&&i.index<n.length&&d.apply(u,i.slice(1)),l=i[0].length,m=c,u.length>=o))break;g.lastIndex===i.index&&g.lastIndex++}return m===n.length?!l&&g.test("")||u.push(""):u.push(n.slice(m)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var a=s(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,a,r):n.call(String(a),e,r)},function(t,a){var s=r(n,t,this,a,n!==e);if(s.done)return s.value;var p=o(t),f=String(this),d=i(p,RegExp),v=p.unicode,x=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(g?"y":"g"),w=new d(g?p:"^(?:"+p.source+")",x),y=void 0===a?h:a>>>0;if(0===y)return[];if(0===f.length)return null===u(w,f)?[f]:[];var C=0,b=0,L=[];while(b<f.length){w.lastIndex=g?b:0;var _,R=u(w,g?f:f.slice(b));if(null===R||(_=m(l(w.lastIndex+(g?0:b)),f.length))===C)b=c(f,b,v);else{if(L.push(f.slice(C,b)),L.length===y)return L;for(var U=1;U<=R.length-1;U++)if(L.push(R[U]),L.length===y)return L;b=C=_}}return L.push(f.slice(C)),L}]}),!g)},"14c3":function(t,e,r){var n=r("c6b6"),a=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var o=r.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"159b":function(t,e,r){var n=r("da84"),a=r("fdbc"),o=r("17c2"),s=r("9112");for(var i in a){var c=n[i],l=c&&c.prototype;if(l&&l.forEach!==o)try{s(l,"forEach",o)}catch(u){l.forEach=o}}},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,a=r("b301");t.exports=a("forEach")?function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"23cb":function(t,e,r){var n=r("a691"),a=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?a(r+e,0):o(r,e)}},"23e7":function(t,e,r){var n=r("da84"),a=r("06cf").f,o=r("9112"),s=r("6eeb"),i=r("ce4e"),c=r("e893"),l=r("94ca");t.exports=function(t,e){var r,u,p,f,d,m,h=t.target,g=t.global,v=t.stat;if(u=g?n:v?n[h]||i(h,{}):(n[h]||{}).prototype,u)for(p in e){if(d=e[p],t.noTargetGet?(m=a(u,p),f=m&&m.value):f=u[p],r=l(g?p:h+(v?".":"#")+p,t.forced),!r&&void 0!==f){if(typeof d===typeof f)continue;c(d,f)}(t.sham||f&&f.sham)&&o(d,"sham",!0),s(u,p,d,t)}}},"241c":function(t,e,r){var n=r("ca84"),a=r("7839"),o=a.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},2437:function(t,e,r){},4160:function(t,e,r){"use strict";var n=r("23e7"),a=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"428f":function(t,e,r){t.exports=r("da84")},"44ad":function(t,e,r){var n=r("d039"),a=r("c6b6"),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?o.call(t,""):Object(t)}:Object},"44e7":function(t,e,r){var n=r("861d"),a=r("c6b6"),o=r("b622"),s=o("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==a(t))}},4840:function(t,e,r){var n=r("825a"),a=r("1c0b"),o=r("b622"),s=o("species");t.exports=function(t,e){var r,o=n(t).constructor;return void 0===o||void 0==(r=n(o)[s])?e:a(r)}},"4d64":function(t,e,r){var n=r("fc6a"),a=r("50c4"),o=r("23cb"),s=function(t){return function(e,r,s){var i,c=n(e),l=a(c.length),u=o(s,l);if(t&&r!=r){while(l>u)if(i=c[u++],i!=i)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===r)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},"50c4":function(t,e,r){var n=r("a691"),a=Math.min;t.exports=function(t){return t>0?a(n(t),9007199254740991):0}},"56ef":function(t,e,r){var n=r("d066"),a=r("241c"),o=r("7418"),s=r("825a");t.exports=n("Reflect","ownKeys")||function(t){var e=a.f(s(t)),r=o.f;return r?e.concat(r(t)):e}},6547:function(t,e,r){var n=r("a691"),a=r("1d80"),o=function(t){return function(e,r){var o,s,i=String(a(e)),c=n(r),l=i.length;return c<0||c>=l?t?"":void 0:(o=i.charCodeAt(c),o<55296||o>56319||c+1===l||(s=i.charCodeAt(c+1))<56320||s>57343?t?i.charAt(c):o:t?i.slice(c,c+2):s-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},"65f0":function(t,e,r){var n=r("861d"),a=r("e8b5"),o=r("b622"),s=o("species");t.exports=function(t,e){var r;return a(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?n(r)&&(r=r[s],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"6a94":function(t,e,r){},7418:function(t,e){e.f=Object.getOwnPropertySymbols},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(t,e,r){var n=r("1d80");t.exports=function(t){return Object(n(t))}},"8aa5":function(t,e,r){"use strict";var n=r("6547").charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},"8c03":function(t,e,r){"use strict";var n=r("6a94"),a=r.n(n);a.a},"8c31":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[t._v("首页")]),r("el-breadcrumb-item",[t._v("我的客户")]),r("el-breadcrumb-item",[t._v("客户跟进")])],1),r("el-card",[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("跟进详情")]),r("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text",icon:"el-icon-d-arrow-left"},on:{click:t.returnHandle}},[t._v("返回")])],1),r("div",{staticClass:"cardContent"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("客户名称")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight textRightColor"},[t._v(t._s(t.currentCustomer.customerName))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("跟进类型")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight"},[0===t.currentCustomer.followUpRecordType?r("el-tag",{attrs:{type:"danger"}},[t._v("电话")]):1===t.currentCustomer.followUpRecordType?r("el-tag",[t._v("微信")]):r("el-tag",{attrs:{type:"info"}},[t._v("阿里旺旺")])],1)])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("跟进时间")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight textRightColor"},[t._v(t._s(t.currentCustomer.followUpDate))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("主题")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight"},[t._v(t._s(t.currentCustomer.followUpTheme))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("跟进内容")])]),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"textRight textRightContent",domProps:{innerHTML:t._s(t.currentCustomer.followUpContent)}})])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("下次提醒时间")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight textRightColor"},[t._v(t._s(t.currentCustomer.nextRemindDate))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("下次跟进主题")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight"},[t._v(t._s(t.currentCustomer.nextFollowUpTheme))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("下次跟进内容")])]),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"textRight textRightContent",domProps:{innerHTML:t._s(t.currentCustomer.nextFollowUpContent)}})])],1)],1)])],1)},a=[],o=(r("d3b7"),r("ac1f"),r("1276"),r("96cf"),r("4328")),s=r.n(o),i={data:function(){return{currentCustomer:{}}},created:function(){this.getCustomerDetail()},methods:{getCustomerDetail:function(){var t,e,r;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t=s.a.stringify({customerId:this.$route.query.id}),n.next=3,regeneratorRuntime.awrap(this.$http.post("/customer/findCustomerById",t));case 3:if(e=n.sent,r=e.data,200===r.status){n.next=7;break}return n.abrupt("return",this.$message.error("获取详情失败！"));case 7:this.currentCustomer={customerName:r.data.customer.customerName,followUpRecordType:r.data.followUpRecordWithBLOBsList[0].followUpRecordType,followUpDate:r.data.followUpRecordWithBLOBsList[0].followUpDate.split(" ")[0],followUpTheme:r.data.followUpRecordWithBLOBsList[0].followUpTheme,followUpContent:r.data.followUpRecordWithBLOBsList[0].followUpContent,nextRemindDate:r.data.followUpRecordWithBLOBsList[0].nextRemindDate.split(" ")[0],nextFollowUpTheme:r.data.followUpRecordWithBLOBsList[0].nextFollowUpTheme,nextFollowUpContent:r.data.followUpRecordWithBLOBsList[0].nextFollowUpContent};case 8:case"end":return n.stop()}}),null,this)},returnUpadataHandle:function(){this.$router.push("/update/customerUpdate")},returnHandle:function(){this.$router.push("/detail/customerDetail"+this.$route.query.id)}}},c=i,l=(r("06fe"),r("2877")),u=Object(l["a"])(c,n,a,!1,null,"90a6f294",null);e["default"]=u.exports},9263:function(t,e,r){"use strict";var n=r("ad6d"),a=RegExp.prototype.exec,o=String.prototype.replace,s=a,i=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=void 0!==/()??/.exec("")[1],l=i||c;l&&(s=function(t){var e,r,s,l,u=this;return c&&(r=new RegExp("^"+u.source+"$(?!\\s)",n.call(u))),i&&(e=u.lastIndex),s=a.call(u,t),i&&s&&(u.lastIndex=u.global?s.index+s[0].length:e),c&&s&&s.length>1&&o.call(s[0],r,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s}),t.exports=s},"94ca":function(t,e,r){var n=r("d039"),a=/#|\.prototype\./,o=function(t,e){var r=i[s(t)];return r==l||r!=c&&("function"==typeof e?n(e):!!e)},s=o.normalize=function(t){return String(t).replace(a,".").toLowerCase()},i=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},a691:function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},ac1f:function(t,e,r){"use strict";var n=r("23e7"),a=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(t,e,r){"use strict";var n=r("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b301:function(t,e,r){"use strict";var n=r("d039");t.exports=function(t,e){var r=[][t];return!r||!n((function(){r.call(null,e||function(){throw 1},1)}))}},b727:function(t,e,r){var n=r("f8c2"),a=r("44ad"),o=r("7b0b"),s=r("50c4"),i=r("65f0"),c=[].push,l=function(t){var e=1==t,r=2==t,l=3==t,u=4==t,p=6==t,f=5==t||p;return function(d,m,h,g){for(var v,x,w=o(d),y=a(w),C=n(m,h,3),b=s(y.length),L=0,_=g||i,R=e?_(d,b):r?_(d,0):void 0;b>L;L++)if((f||L in y)&&(v=y[L],x=C(v,L,w),t))if(e)R[L]=x;else if(x)switch(t){case 3:return!0;case 5:return v;case 6:return L;case 2:c.call(R,v)}else if(u)return!1;return p?-1:l||u?u:R}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},ca84:function(t,e,r){var n=r("5135"),a=r("fc6a"),o=r("4d64").indexOf,s=r("d012");t.exports=function(t,e){var r,i=a(t),c=0,l=[];for(r in i)!n(s,r)&&n(i,r)&&l.push(r);while(e.length>c)n(i,r=e[c++])&&(~o(l,r)||l.push(r));return l}},d066:function(t,e,r){var n=r("428f"),a=r("da84"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(a[t]):n[t]&&n[t][e]||a[t]&&a[t][e]}},d1e7:function(t,e,r){"use strict";var n={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,o=a&&!n.call({1:2},1);e.f=o?function(t){var e=a(this,t);return!!e&&e.enumerable}:n},d389:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[t._v("首页")]),r("el-breadcrumb-item",{attrs:{to:{path:"/my/myclient"}}},[t._v("我的客户")]),r("el-breadcrumb-item",[t._v("客户详情")])],1),r("el-card",[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"firstSpan"},[t._v(t._s(t.customerDetail.customerName))]),r("span",{staticClass:"secondSpan"},[r("i",{staticClass:"el-icon-phone-outline",staticStyle:{"padding-right":"10px"}}),t._v(t._s(t.customerDetail.contactPersonName)+" / 电话： "+t._s(t.customerDetail.contactPersonPhone?t.customerDetail.contactPersonPhone:"无 ")+" / 微信： "+t._s(t.customerDetail.contactPersonWechat?t.customerDetail.contactPersonWechat:"无 ")+" / 阿里旺旺： "+t._s(t.customerDetail.contactPersonWangwang?t.customerDetail.contactPersonWangwang:"无 "))]),r("el-button",{staticClass:"removeButton",staticStyle:{float:"right",padding:"3px 0",margin:"13px 20px"},attrs:{type:"text",icon:"el-icon-d-arrow-left"},on:{click:t.returnHandle}},[t._v("返回")]),r("el-button",{staticClass:"removeButton",staticStyle:{float:"right",padding:"3px 0",margin:"13px 20px"},attrs:{type:"text"},on:{click:t.removeButtonHandle}},[t._v("移除")]),r("el-dropdown",{staticStyle:{float:"right",padding:"3px 0",margin:"10px 20px"},attrs:{trigger:"click"},on:{command:t.editHandleCommand}},[r("span",{staticClass:"el-dropdown-link"},[t._v(" "+t._s(t.customerStatusName)),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"1"}},[t._v("跟进中")]),r("el-dropdown-item",{attrs:{command:"2"}},[t._v("已成交")]),r("el-dropdown-item",{attrs:{command:"3"}},[t._v("已失效")])],1)],1)],1),r("el-row",{staticClass:"upContentMain",attrs:{gutter:40}},[r("el-col",{attrs:{span:15}},[r("el-row",{staticClass:"commentRow"},[r("div",{staticClass:"firstDiv"},[r("span",{staticStyle:{float:"left",padding:"3px 0",margin:"10px 20px","font-size":"18px"}},[t._v("最近一次沟通")]),t.isUpContentMain?r("span",{staticStyle:{float:"right",padding:"3px 0",margin:"12px 20px","font-size":"14px",color:"#f5b53e"}},[t._v(t._s(t.customerDetail.followUpDate))]):t._e()]),t.isUpContentMain?r("div",{staticClass:"lastDiv"},[r("span",{staticStyle:{padding:"3px 0",margin:"10px -5px 10px 20px","font-size":"14px"}},[t._v(t._s(t.customerDetail.followUpTheme))]),r("a",{staticStyle:{padding:"3px 0",margin:"12px 20px","font-size":"14px"},attrs:{href:t.UpdateCustomerDetailUrl}},[t._v("...详情")])]):r("div",{staticClass:"lastDiv"},[r("span",{staticStyle:{float:"right",padding:"3px 0",margin:"12px 20px","font-size":"14px",color:"#78b9ee"}},[t._v("暂无跟进....")])])]),r("el-row",{staticClass:"commentRow"},[r("div",{staticClass:"firstDiv"},[r("span",{staticStyle:{float:"left",padding:"3px 0",margin:"10px 20px","font-size":"18px"}},[t._v("下一次跟进提醒")]),t.isUpContentMain?r("span",{staticStyle:{float:"right",padding:"3px 0",margin:"12px 20px","font-size":"14px",color:"#f5b53e"}},[t._v(t._s(t.customerDetail.nextRemindDate))]):t._e()]),t.isUpContentMain?r("div",{staticClass:"lastDiv"},[r("span",{staticStyle:{padding:"3px 0",margin:"10px -5px 10px 20px","font-size":"14px"}},[t._v(t._s(t.customerDetail.nextFollowUpTheme))]),r("a",{staticStyle:{padding:"3px 0",margin:"12px 20px","font-size":"14px"},attrs:{href:t.UpdateCustomerDetailUrl1}},[t._v("...详情")])]):r("div",{staticClass:"lastDiv"},[r("span",{staticStyle:{float:"right",padding:"3px 0",margin:"12px 20px","font-size":"14px",color:"#78b9ee"}},[t._v("暂无跟进....")])])])],1),r("el-col",{attrs:{span:9}},[r("div",{staticClass:"timeLineTitle"},[t._v("客户跟进与沟通记录")]),t.isUpContentMain?r("el-timeline",t._l(t.timeLineContent,(function(e,n){return r("el-timeline-item",{key:n,attrs:{timestamp:e.followUpRecordUpdateDate,placement:"top",size:"normal",color:"#0099FF"}},[r("el-card",[r("h4",[t._v(" 更进方式: "),0===e.followUpRecordType?r("el-tag",{attrs:{type:"danger"}},[t._v("电话")]):1===e.followUpRecordType?r("el-tag",[t._v("微信")]):r("el-tag",{attrs:{type:"info"}},[t._v("阿里旺旺")])],1),r("h4",[t._v("跟进内容: "),r("p",{staticClass:"upcontent",domProps:{innerHTML:t._s(e.followUpContent)}})])])],1)})),1):r("div",{staticClass:"lastDiv"},[r("span",{staticStyle:{"font-size":"14px",color:"#78b9ee"}},[t._v("暂无跟进....")])])],1)],1)],1)],1)},a=[],o=(r("4160"),r("0d03"),r("d3b7"),r("ac1f"),r("1276"),r("159b"),r("96cf"),r("4328")),s=r.n(o),i={data:function(){return{customerDetail:{},customerId:"",UpdateCustomerDetailUrl:"",UpdateCustomerDetailUrl1:"",timeLineContent:[],isUpContentMain:!1,customerStatusName:"",nextRemindDate:""}},created:function(){this.getCustomerDetail()},methods:{returnHandle:function(){this.$router.go(-1)},editHandleCommand:function(t){var e,r,n;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(!t){a.next=13;break}return"已成交"!==this.customerStatusName&&(this.customerStatusName="1"===t?"跟进中":"2"===t?"已成交":"已失效"),e=s.a.stringify({customerStatusId:t+"",userId:window.sessionStorage.getItem("userId"),customerId:this.$route.params.id,customerStatusName:this.customerStatusName}),a.next=5,regeneratorRuntime.awrap(this.$http.post("/customer/updateCustomer",e));case 5:if(r=a.sent,n=r.data,200===n.status){a.next=11;break}this.$message.error(n.msg),a.next=13;break;case 11:return this.$router.push("/my/myclient"),a.abrupt("return",this.$message.success(n.msg));case 13:case"end":return a.stop()}}),null,this)},getCustomerDetail:function(){var t,e,r,n,a,o,i;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return t=s.a.stringify({customerId:this.$route.params.id}),c.next=3,regeneratorRuntime.awrap(this.$http.post("/customer/findCustomerById",t));case 3:if(e=c.sent,r=e.data,200===r.status){c.next=7;break}return c.abrupt("return",this.$message.error(r.msg));case 7:if(r.data.followUpRecordWithBLOBsList.length>0&&(this.isUpContentMain=!0),r.data.followUpRecordWithBLOBsList.length>0){for(n=[],r.data.followUpRecordWithBLOBsList.forEach((function(t,e){var r=new Date(t.nextRemindDate).valueOf();n.push(r)})),a=0;a<n.length;a++)for(o=0;o<n.length-1-a;o++)n[o]>n[o+1]&&(i=n[o],n[o]=n[o+1],n[o+1]=i);this.nextRemindDate=this.timeChange(n[0])}this.customerStatusName=r.data.customer.customerStatusName,this.customerDetail={customerName:r.data.customer.customerName||"",contactPersonName:r.data.contactPersonList.length>0?r.data.contactPersonList[0].contactPersonName:"",contactPersonWangwang:r.data.contactPersonList.length>0?r.data.contactPersonList[0].contactPersonWangwang:"",contactPersonPhone:r.data.contactPersonList.length>0?r.data.contactPersonList[0].contactPersonPhone:"",contactPersonWechat:r.data.contactPersonList.length>0?r.data.contactPersonList[0].contactPersonWechat:"",followUpTheme:r.data.followUpRecordWithBLOBsList.length>0?r.data.followUpRecordWithBLOBsList[0].followUpTheme:"",followUpDate:r.data.followUpRecordWithBLOBsList.length>0?r.data.followUpRecordWithBLOBsList[0].followUpDate.split(" ")[0]:"",nextFollowUpTheme:r.data.followUpRecordWithBLOBsList.length>0?r.data.followUpRecordWithBLOBsList[0].nextFollowUpTheme:"",nextRemindDate:r.data.followUpRecordWithBLOBsList.length>0?this.nextRemindDate.split(" ")[0]:""},this.timeLineContent=r.data.followUpRecordWithBLOBsList,this.UpdateCustomerDetailUrl="/detail/UpdateCustomerDetail?id="+r.data.customer.customerId,this.UpdateCustomerDetailUrl1="/detail/UpdateCustomerDetail?id="+r.data.customer.customerId;case 14:case"end":return c.stop()}}),null,this)},timeChange:function(t){var e=new Date(t),r=e.getFullYear()+"-",n=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",a=(e.getDate()<10?"0"+e.getDate():e.getMonth())+" ",o=e.getHours()+":",s=e.getMinutes()+":",i=e.getSeconds(),c=r+n+a+o+s+i;return c},editButtonHandle:function(){this.$router.push("/detail/editDetail"+this.$route.params.id)},removeButtonHandle:function(){var t=this;this.$confirm("此操作将客户移入公海, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e,r,n;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e=s.a.stringify({customerId:t.$route.params.id,userId:window.sessionStorage.getItem("userId"),customerPublicAreaStatus:0}),a.next=3,regeneratorRuntime.awrap(t.$http.post("/customer/updateCustomer",e));case 3:if(r=a.sent,n=r.data,200===n.status){a.next=7;break}return a.abrupt("return",t.$message.error(n.msg));case 7:return t.$router.push("/my/myclient"),a.abrupt("return",t.$message.success(n.msg));case 9:case"end":return a.stop()}}))})).catch((function(){t.$router.push({path:"/my/myclient"})}))}}},c=i,l=(r("8c03"),r("2877")),u=Object(l["a"])(c,n,a,!1,null,"83f8a464",null);e["default"]=u.exports},d784:function(t,e,r){"use strict";var n=r("9112"),a=r("6eeb"),o=r("d039"),s=r("b622"),i=r("9263"),c=s("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,p){var f=s(t),d=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),m=d&&!o((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return e=!0,null},r[f](""),!e}));if(!d||!m||"replace"===t&&!l||"split"===t&&!u){var h=/./[f],g=r(f,""[t],(function(t,e,r,n,a){return e.exec===i?d&&!a?{done:!0,value:h.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),v=g[0],x=g[1];a(String.prototype,t,v),a(RegExp.prototype,f,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)}),p&&n(RegExp.prototype[f],"sham",!0)}}},e893:function(t,e,r){var n=r("5135"),a=r("56ef"),o=r("06cf"),s=r("9bf2");t.exports=function(t,e){for(var r=a(e),i=s.f,c=o.f,l=0;l<r.length;l++){var u=r[l];n(t,u)||i(t,u,c(e,u))}}},e8b5:function(t,e,r){var n=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},f8c2:function(t,e,r){var n=r("1c0b");t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,a){return t.call(e,r,n,a)}}return function(){return t.apply(e,arguments)}}},fc6a:function(t,e,r){var n=r("44ad"),a=r("1d80");t.exports=function(t){return n(a(t))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=customerDetail_updateCustomerDetail.d192abdd.js.map