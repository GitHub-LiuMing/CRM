(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["customerUpdate_createUpdate_updateDetail"],{"0d03":function(e,t,r){var a=r("6eeb"),l=Date.prototype,n="Invalid Date",o="toString",s=l[o],c=l.getTime;new Date(NaN)+""!=n&&a(l,o,(function(){var e=c.call(this);return e===e?s.call(this):n}))},"0fc0":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),r("el-breadcrumb-item",{attrs:{to:{path:"/my/myclient"}}},[e._v("我的客户")]),r("el-breadcrumb-item",{attrs:{to:{path:"/update/customerUpdate",query:e.updateDetail}}},[e._v("客户跟进")]),r("el-breadcrumb-item",[e._v("跟进详情")])],1),r("el-card",[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("跟进详情")]),r("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text",icon:"el-icon-d-arrow-left"},on:{click:e.returnHandle}},[e._v("返回")])],1),r("div",{staticClass:"cardContent"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[e._v("客户名称")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight textRightColor"},[e._v(e._s(e.updateDetail.customerName))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[e._v("跟进类型")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight"},[0===e.updateDetail.followUpRecordType?r("el-tag",{attrs:{type:"danger"}},[e._v("电话")]):1===e.updateDetail.followUpRecordType?r("el-tag",[e._v("微信")]):r("el-tag",{attrs:{type:"info"}},[e._v("阿里旺旺")])],1)])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[e._v("跟进时间")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight"},[e._v(e._s(e.updateDetail.followUpRecordUpdateDate))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[e._v("跟进主题")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight"},[e._v(e._s(e.updateDetail.followUpTheme))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft  "},[e._v("跟进内容")])]),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"textRight textRightContent",domProps:{innerHTML:e._s(e.updateDetail.nextFollowUpContent)}})])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[e._v("下次提醒时间")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight textRightColor"},[e._v(e._s(e.updateDetail.nextRemindDate?e.updateDetail.nextRemindDate.split(" ")[0]:""))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[e._v("下次跟进主题")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight "},[e._v(e._s(e.updateDetail.nextFollowUpTheme))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft "},[e._v("下次跟进内容")])]),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"textRight textRightContent",domProps:{innerHTML:e._s(e.updateDetail.nextFollowUpContent)}})])],1)],1)])],1)},l=[],n=(r("d3b7"),r("96cf"),r("4328")),o=r.n(n),s={data:function(){return{updateDetail:{}}},created:function(){this.getCustomerUpDetail()},methods:{getCustomerUpDetail:function(){var e,t,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e=o.a.stringify({followUpRecordId:this.$route.query.id}),a.next=3,regeneratorRuntime.awrap(this.$http.post("/followUpRecord/findFollowUpRecordById",e));case 3:if(t=a.sent,r=t.data,200===r.status){a.next=7;break}return a.abrupt("return",this.$message.error("获取客户详情失败！"));case 7:this.updateDetail=r.data;case 8:case"end":return a.stop()}}),null,this)},returnHandle:function(){this.$router.go(-1)}}},c=s,i=(r("fb60"),r("2877")),u=Object(i["a"])(c,a,l,!1,null,"36371661",null);t["default"]=u.exports},"14c3":function(e,t,r){var a=r("c6b6"),l=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var n=r.call(e,t);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return l.call(e,t)}},5319:function(e,t,r){"use strict";var a=r("d784"),l=r("825a"),n=r("7b0b"),o=r("50c4"),s=r("a691"),c=r("1d80"),i=r("8aa5"),u=r("14c3"),p=Math.max,d=Math.min,m=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};a("replace",2,(function(e,t,r){return[function(r,a){var l=c(this),n=void 0==r?void 0:r[e];return void 0!==n?n.call(r,l,a):t.call(String(l),r,a)},function(e,n){var c=r(t,e,this,n);if(c.done)return c.value;var m=l(e),f=String(this),h="function"===typeof n;h||(n=String(n));var v=m.global;if(v){var b=m.unicode;m.lastIndex=0}var x=[];while(1){var y=u(m,f);if(null===y)break;if(x.push(y),!v)break;var R=String(y[0]);""===R&&(m.lastIndex=i(f,o(m.lastIndex),b))}for(var U="",w=0,_=0;_<x.length;_++){y=x[_];for(var F=String(y[0]),C=p(d(s(y.index),f.length),0),D=[],$=1;$<y.length;$++)D.push(g(y[$]));var T=y.groups;if(h){var k=[F].concat(D,C,f);void 0!==T&&k.push(T);var q=String(n.apply(void 0,k))}else q=a(F,f,C,D,T,n);C>=w&&(U+=f.slice(w,C)+q,w=C+F.length)}return U+f.slice(w)}];function a(e,r,a,l,o,s){var c=a+e.length,i=l.length,u=h;return void 0!==o&&(o=n(o),u=f),t.call(s,u,(function(t,n){var s;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,a);case"'":return r.slice(c);case"<":s=o[n.slice(1,-1)];break;default:var u=+n;if(0===u)return t;if(u>i){var p=m(u/10);return 0===p?t:p<=i?void 0===l[p-1]?n.charAt(1):l[p-1]+n.charAt(1):t}s=l[u-1]}return void 0===s?"":s}))}}))},6547:function(e,t,r){var a=r("a691"),l=r("1d80"),n=function(e){return function(t,r){var n,o,s=String(l(t)),c=a(r),i=s.length;return c<0||c>=i?e?"":void 0:(n=s.charCodeAt(c),n<55296||n>56319||c+1===i||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):n:e?s.slice(c,c+2):o-56320+(n-55296<<10)+65536)}};e.exports={codeAt:n(!1),charAt:n(!0)}},"6bdf":function(e,t,r){"use strict";var a=r("804c"),l=r.n(a);l.a},"804c":function(e,t,r){},"8aa5":function(e,t,r){"use strict";var a=r("6547").charAt;e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},9263:function(e,t,r){"use strict";var a=r("ad6d"),l=RegExp.prototype.exec,n=String.prototype.replace,o=l,s=function(){var e=/a/,t=/b*/g;return l.call(e,"a"),l.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=void 0!==/()??/.exec("")[1],i=s||c;i&&(o=function(e){var t,r,o,i,u=this;return c&&(r=new RegExp("^"+u.source+"$(?!\\s)",a.call(u))),s&&(t=u.lastIndex),o=l.call(u,e),s&&o&&(u.lastIndex=u.global?o.index+o[0].length:t),c&&o&&o.length>1&&n.call(o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o}),e.exports=o},ac1f:function(e,t,r){"use strict";var a=r("23e7"),l=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(e,t,r){"use strict";var a=r("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b40b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),r("el-breadcrumb-item",{attrs:{to:{path:"/my/myclient"}}},[e._v("我的客户")]),r("el-breadcrumb-item",{attrs:{to:{path:"/update/customerUpdate",query:e.msg}}},[e._v("客户跟进")]),r("el-breadcrumb-item",[e._v("创建跟进")])],1),r("el-card",[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("跟进详情")])]),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.createUpdateRuleForm,rules:e.createUpdateRules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"跟进类型",prop:"updateType"}},[r("el-select",{attrs:{placeholder:"请选择跟进类型"},model:{value:e.createUpdateRuleForm.updateType,callback:function(t){e.$set(e.createUpdateRuleForm,"updateType",t)},expression:"createUpdateRuleForm.updateType"}},[r("el-option",{attrs:{label:"电话",value:"0"}}),r("el-option",{attrs:{label:"微信",value:"1"}}),r("el-option",{attrs:{label:"阿里旺旺",value:"2"}})],1)],1),r("el-form-item",{attrs:{label:"跟进时间",required:""}},[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{prop:"date1"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",disabled:"",laceholder:"选择日期"},model:{value:e.createUpdateRuleForm.date1,callback:function(t){e.$set(e.createUpdateRuleForm,"date1",t)},expression:"createUpdateRuleForm.date1"}})],1)],1)],1),r("el-form-item",{attrs:{label:"跟进主题",prop:"theme1"}},[r("el-input",{staticClass:"textareaWidth",attrs:{type:"input"},model:{value:e.createUpdateRuleForm.theme1,callback:function(t){e.$set(e.createUpdateRuleForm,"theme1",t)},expression:"createUpdateRuleForm.theme1"}})],1),r("el-form-item",{attrs:{label:"跟进内容",prop:"desc1"}},[r("el-input",{staticClass:"textareaWidth",attrs:{type:"textarea",autosize:{minRows:4},placeholder:e.placeholderText},model:{value:e.createUpdateRuleForm.desc1,callback:function(t){e.$set(e.createUpdateRuleForm,"desc1",t)},expression:"createUpdateRuleForm.desc1"}})],1),r("el-form-item",{attrs:{label:"下次提醒时间",required:""}},[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{prop:"date2"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.createUpdateRuleForm.date2,callback:function(t){e.$set(e.createUpdateRuleForm,"date2",t)},expression:"createUpdateRuleForm.date2"}})],1)],1)],1),r("el-form-item",{attrs:{label:"下次跟进主题",prop:"theme2"}},[r("el-input",{staticClass:"textareaWidth",attrs:{type:"input"},model:{value:e.createUpdateRuleForm.theme2,callback:function(t){e.$set(e.createUpdateRuleForm,"theme2",t)},expression:"createUpdateRuleForm.theme2"}})],1),r("el-form-item",{attrs:{label:"下次跟进内容",prop:"desc2"}},[r("el-input",{staticClass:"textareaWidth",attrs:{type:"textarea",autosize:{minRows:4},placeholder:e.placeholderText},model:{value:e.createUpdateRuleForm.desc2,callback:function(t){e.$set(e.createUpdateRuleForm,"desc2",t)},expression:"createUpdateRuleForm.desc2"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createUpdateSubmitForm("ruleForm")}}},[e._v("提交")]),r("el-button",{on:{click:function(t){return e.createUpdateResetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)},l=[],n=(r("0d03"),r("d3b7"),r("ac1f"),r("5319"),r("96cf"),r("4328")),o=r.n(n),s={data:function(){return{createUpdateRuleForm:{updateType:"",date1:new Date,date2:new Date,desc1:"",desc2:"",theme1:"",theme2:"",finallyDate1:"",finallyDate2:"",finallyContent1:"",finallyContent2:""},createUpdateRules:{updateType:[{required:!0,message:"请选择跟进类型",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],desc1:[{required:!0,message:"请填写跟进内容",trigger:"blur"}],desc2:[{required:!0,message:"请填写下次跟进内容",trigger:"blur"}],theme1:[{required:!0,message:"请填写跟进主题",trigger:"blur"}],theme2:[{required:!0,message:"请填写下次跟进主题",trigger:"blur"}]},placeholderText:"1.xxxxxxx\n2.xxxxxxx\n3.xxxxxxx",msg:{}}},created:function(){this.msg=this.$route.query},methods:{createUpdateSubmitForm:function(e){var t=this;this.$refs[e].validate((function(e){var r,a,l,n;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(!e){s.next=17;break}return t.createUpdateRuleForm.finallyDate1=t.timeChange(t.createUpdateRuleForm.date1),t.createUpdateRuleForm.finallyDate2=t.timeChange(t.createUpdateRuleForm.date2),t.createUpdateRuleForm.finallyContent1=t.preText(t.createUpdateRuleForm.desc1),t.createUpdateRuleForm.finallyContent2=t.preText(t.createUpdateRuleForm.desc2),r={UserId:t.$route.query.userId,UserName:t.$route.query.userName,CustomerId:t.$route.query.customerId,CustomerName:t.$route.query.customerName,FollowUpDate:t.createUpdateRuleForm.finallyDate1,FollowUpTheme:t.createUpdateRuleForm.theme1,FollowUpContent:t.createUpdateRuleForm.finallyContent1,NextRemindDate:t.createUpdateRuleForm.finallyDate2,NextFollowUpTheme:t.createUpdateRuleForm.theme2,NextFollowUpContent:t.createUpdateRuleForm.finallyContent2,FollowUpRecordType:t.createUpdateRuleForm.updateType},a=o.a.stringify(r),s.next=9,regeneratorRuntime.awrap(t.$http.post("/followUpRecord/addFollowUpRecord",a));case 9:if(l=s.sent,n=l.data,200===n.status){s.next=13;break}return s.abrupt("return",t.$message.error(n.msg));case 13:return t.$router.push({path:"/update/customerUpdate",query:t.msg}),s.abrupt("return",t.$message.success(n.msg));case 17:return s.abrupt("return",!1);case 18:case"end":return s.stop()}}))}))},createUpdateResetForm:function(e){this.$refs[e].resetFields()},timeChange:function(e){var t=e.getTime(),r=new Date(t),a=r.getFullYear()+"/",l=(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"/",n=r.getDate(),o=a+l+n;return o},preText:function(e){return e.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;")},returnHandle:function(){this.$router.push("/update/customerUpdate")}}},c=s,i=(r("6bdf"),r("2877")),u=Object(i["a"])(c,a,l,!1,null,"2b58b5e7",null);t["default"]=u.exports},b722:function(e,t,r){},d784:function(e,t,r){"use strict";var a=r("9112"),l=r("6eeb"),n=r("d039"),o=r("b622"),s=r("9263"),c=o("species"),i=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=!n((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,p){var d=o(e),m=!n((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=m&&!n((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!m||!f||"replace"===e&&!i||"split"===e&&!u){var h=/./[d],g=r(d,""[e],(function(e,t,r,a,l){return t.exec===s?m&&!l?{done:!0,value:h.call(t,r,a)}:{done:!0,value:e.call(r,t,a)}:{done:!1}})),v=g[0],b=g[1];l(String.prototype,e,v),l(RegExp.prototype,d,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)}),p&&a(RegExp.prototype[d],"sham",!0)}}},fb60:function(e,t,r){"use strict";var a=r("b722"),l=r.n(a);l.a},fe62:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),r("el-breadcrumb-item",{attrs:{to:{path:"/my/myclient"}}},[e._v("我的客户")]),r("el-breadcrumb-item",[e._v("客户跟进")])],1),r("el-card",[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("客户跟进")]),r("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text",icon:"el-icon-d-arrow-left"},on:{click:e.returnHandle}},[e._v("返回")])],1),r("el-row",[r("el-col",{attrs:{span:3}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"middle",plain:""},on:{click:e.createUpdateHandle}},[e._v("创建跟进")])],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[r("el-table-column",{attrs:{prop:"followUpRecordUpdateDate",label:"跟进时间",width:"180"}}),r("el-table-column",{attrs:{prop:"followUpRecordType",label:"跟进类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.followUpRecordType?r("el-tag",{attrs:{type:"danger"}},[e._v("电话")]):1===t.row.followUpRecordType?r("el-tag",{attrs:{type:"success"}},[e._v("微信")]):r("el-tag",{attrs:{type:"info"}},[e._v("阿里旺旺")])]}}])}),r("el-table-column",{attrs:{prop:"followUpTheme",label:"主题"}}),r("el-table-column",{attrs:{prop:"followUpContent",label:"跟进内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{domProps:{innerHTML:e._s(t.row.followUpContent)}})]}}])}),r("el-table-column",{attrs:{prop:"nextRemindDate",label:"下次提醒时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nextRemindDate.split(" ")[0])+" ")]}}])}),r("el-table-column",{attrs:{prop:"followUpRecordCreateDate",label:"保存时间"}}),r("el-table-column",{attrs:{prop:"opration",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(r){return e.updateDetailHandle(t.row.followUpRecordId)}}},[e._v("详情")])]}}])})],1)],1)],1)},l=[],n=(r("d3b7"),r("96cf"),r("4328")),o=r.n(n),s={data:function(){return{tableData:[]}},created:function(){this.getCustomerUpdate()},methods:{getCustomerUpdate:function(){var e,t,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e=o.a.stringify({customerId:this.$route.query.customerId}),a.next=3,regeneratorRuntime.awrap(this.$http.post("/followUpRecord/findFollowUpRecordByCustomerId",e));case 3:if(t=a.sent,r=t.data,this.tableData=r.data,200===r.status){a.next=8;break}return a.abrupt("return",this.$message.error("获取客户跟进列表失败！"));case 8:case"end":return a.stop()}}),null,this)},createUpdateHandle:function(){this.$router.push({path:"/update/createUpdate",query:{customerId:this.$route.query.customerId,customerName:this.$route.query.customerName,userId:this.$route.query.userId,userName:this.$route.query.userName}})},updateDetailHandle:function(e){this.$router.push({path:"/update/updateDetail",query:{id:e}})},returnHandle:function(){this.$router.push("/my/myclient")}}},c=s,i=r("2877"),u=Object(i["a"])(c,a,l,!1,null,"0bdd35a0",null);t["default"]=u.exports}}]);
//# sourceMappingURL=customerUpdate_createUpdate_updateDetail.f6642619.js.map