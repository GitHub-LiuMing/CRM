(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login_main_welcome"],{"046f":function(e,t,r){e.exports=r.p+"img/logoMain.c2013ca4.png"},1276:function(e,t,r){"use strict";var s=r("d784"),n=r("44e7"),i=r("825a"),o=r("1d80"),a=r("4840"),l=r("8aa5"),c=r("50c4"),u=r("14c3"),d=r("9263"),p=r("d039"),m=[].push,f=Math.min,g=4294967295,h=!p((function(){return!RegExp(g,"y")}));s("split",2,(function(e,t,r){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var s=String(o(this)),i=void 0===r?g:r>>>0;if(0===i)return[];if(void 0===e)return[s];if(!n(e))return t.call(s,e,i);var a,l,c,u=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=new RegExp(e.source,p+"g");while(a=d.call(h,s)){if(l=h.lastIndex,l>f&&(u.push(s.slice(f,a.index)),a.length>1&&a.index<s.length&&m.apply(u,a.slice(1)),c=a[0].length,f=l,u.length>=i))break;h.lastIndex===a.index&&h.lastIndex++}return f===s.length?!c&&h.test("")||u.push(""):u.push(s.slice(f)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var n=o(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,n,r):s.call(String(n),t,r)},function(e,n){var o=r(s,e,this,n,s!==t);if(o.done)return o.value;var d=i(e),p=String(this),m=a(d,RegExp),v=d.unicode,w=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),x=new m(h?d:"^(?:"+d.source+")",w),b=void 0===n?g:n>>>0;if(0===b)return[];if(0===p.length)return null===u(x,p)?[p]:[];var y=0,R=0,k=[];while(R<p.length){x.lastIndex=h?R:0;var C,F=u(x,h?p:p.slice(R));if(null===F||(C=f(c(x.lastIndex+(h?0:R)),p.length))===y)R=l(p,R,v);else{if(k.push(p.slice(y,R)),k.length===b)return k;for(var P=1;P<=F.length-1;P++)if(k.push(F[P]),k.length===b)return k;R=y=C}}return k.push(p.slice(y)),k}]}),!h)},"14c3":function(e,t,r){var s=r("c6b6"),n=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var i=r.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==s(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"1d8f":function(e,t,r){},4077:function(e,t,r){"use strict";var s=r("1d8f"),n=r.n(s);n.a},"44e7":function(e,t,r){var s=r("861d"),n=r("c6b6"),i=r("b622"),o=i("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==n(e))}},6547:function(e,t,r){var s=r("a691"),n=r("1d80"),i=function(e){return function(t,r){var i,o,a=String(n(t)),l=s(r),c=a.length;return l<0||l>=c?e?"":void 0:(i=a.charCodeAt(l),i<55296||i>56319||l+1===c||(o=a.charCodeAt(l+1))<56320||o>57343?e?a.charAt(l):i:e?a.slice(l,l+2):o-56320+(i-55296<<10)+65536)}};e.exports={codeAt:i(!1),charAt:i(!0)}},7866:function(e,t,r){"use strict";var s=r("f6f8"),n=r.n(s);n.a},"8aa5":function(e,t,r){"use strict";var s=r("6547").charAt;e.exports=function(e,t,r){return t+(r?s(e,t).length:1)}},9121:function(e,t,r){"use strict";var s=r("d290"),n=r.n(s);n.a},9263:function(e,t,r){"use strict";var s=r("ad6d"),n=RegExp.prototype.exec,i=String.prototype.replace,o=n,a=function(){var e=/a/,t=/b*/g;return n.call(e,"a"),n.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=void 0!==/()??/.exec("")[1],c=a||l;c&&(o=function(e){var t,r,o,c,u=this;return l&&(r=new RegExp("^"+u.source+"$(?!\\s)",s.call(u))),a&&(t=u.lastIndex),o=n.call(u,e),a&&o&&(u.lastIndex=u.global?o.index+o[0].length:t),l&&o&&o.length>1&&i.call(o[0],r,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)})),o}),e.exports=o},a55b:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login_container"},[r("div",{staticClass:"login_box"},[e._m(0),r("el-form",{ref:"loginFormRef",staticClass:"login_form",attrs:{model:e.loginForm,rules:e.loginFormRules,"label-width":"0px"}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{"prefix-icon":"iconfont icon-user",placeholder:"用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{"prefix-icon":"iconfont icon-3702mima",type:"password",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),r("el-form-item",{staticClass:"btns"},[r("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),r("el-button",{attrs:{type:"info"},on:{click:e.resetLoginForm}},[e._v("重置")])],1)],1)],1)])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"avatar_box"},[s("img",{staticStyle:{width:"100%"},attrs:{src:r("cf05"),alt:""}})])}],i=(r("d3b7"),r("ac1f"),r("1276"),r("96cf"),r("4328")),o=r.n(i),a={data:function(){return{loginForm:{username:"",password:""},loginFormRules:{username:[{required:!0,message:"请输入登录名称",trigger:"blur"},{min:2,max:4,message:"长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:3,max:16,message:"长度在 6 到 15 个字符",trigger:"blur"}]}}},mounted:function(){this.getCookie()},methods:{resetLoginForm:function(){this.$refs.loginFormRef.resetFields()},login:function(){var e=this;this.$refs.loginFormRef.validate((function(t){var r,s,n,i;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,regeneratorRuntime.awrap(e.$http.post("/user/findUserLogin",o.a.stringify(e.loginForm)));case 4:if(r=a.sent,s=r.data,200===s.status){a.next=8;break}return a.abrupt("return",e.$message.error(s.msg));case 8:e.$message.success("登录成功"),n=e.loginForm.username,i=e.loginForm.password,e.setCookie(n,i),window.sessionStorage.setItem("userId",s.data.userId),window.sessionStorage.setItem("userName",s.data.userName),window.sessionStorage.setItem("userType",s.data.userType),e.$router.push("/main");case 16:case"end":return a.stop()}}))}))},setCookie:function(e,t){window.document.cookie="username="+e+";",window.document.cookie="password="+t+";"},getCookie:function(){if(document.cookie.length>0)for(var e=document.cookie.split("; "),t=0;t<e.length;t++){var r=e[t].split("=");"username"===r[0]?this.loginForm.username=r[1]:"password"===r[0]&&(this.loginForm.password=r[1])}},clearCookie:function(){this.setCookie("","")}}},l=a,c=(r("7866"),r("2877")),u=Object(c["a"])(l,s,n,!1,null,"df6f9aaa",null);t["default"]=u.exports},ac1f:function(e,t,r){"use strict";var s=r("23e7"),n=r("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(e,t,r){"use strict";var s=r("825a");e.exports=function(){var e=s(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},cd56:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{staticClass:"home-container"},[s("el-header",[s("div",[s("img",{staticStyle:{height:"60px","margin-left":"30px"},attrs:{src:r("046f"),alt:""}})]),s("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[s("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.userName)),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{icon:"el-icon-edit",command:"/editpass/editpassword"}},[e._v("修改密码")]),s("el-dropdown-item",{attrs:{icon:"el-icon-switch-button",command:"/"}},[e._v("退出")])],1)],1)],1),s("el-container",[s("el-aside",{attrs:{width:e.isCollapse?"64px":"200px"}},[s("div",{staticClass:"toggle-button",on:{click:e.toggleCollapse}},[e._v(" ||| ")]),s("el-menu",{attrs:{"background-color":"#fff","text-color":"#666","active-text-color":"#889EFF","unique-opened":"",collapse:e.isCollapse,"collapse-transition":!1,router:"","default-active":e.activePath}},[s("el-submenu",[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-s-data"}),s("span",[e._v("我的客户")])]),s("el-menu-item",{attrs:{index:"/my/myclient"},on:{click:function(t){return e.saveNavState("/my/myclient")}}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-user"}),s("span",[e._v("我的客户")])])],2),s("el-menu-item",{attrs:{index:"/my/CustomerPublicArea"},on:{click:function(t){return e.saveNavState("/my/CustomerPublicArea")}}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-user"}),s("span",[e._v("客户公海")])])],2)],2),s("el-submenu",[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-notebook-1"}),s("span",[e._v("工作日报")])]),s("el-menu-item",{attrs:{index:"/work/daily"},on:{click:function(t){return e.saveNavState("/work/daily")}}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-document"}),s("span",[e._v("我的日报")])])],2)],2),2!==e.userType?s("div",[s("el-submenu",[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-setting"}),s("span",[e._v("用户管理")])]),s("el-menu-item",{attrs:{index:"/user/userControl"},on:{click:function(t){return e.saveNavState("/user/userControl")}}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-s-tools"}),s("span",[e._v("用户管理")])])],2)],2)],1):e._e()],1)],1),s("el-main",[s("router-view")],1)],1),s("el-dialog",{attrs:{title:"修改密码",visible:e.editPasswordDialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.editPasswordDialogVisible=t}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.editPasswordRuleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"新密码",prop:"userPassword"}},[s("el-input",{staticClass:"el-input-width",attrs:{autocomplete:"off",type:"password"},model:{value:e.editPasswordRuleForm.userPassword,callback:function(t){e.$set(e.editPasswordRuleForm,"userPassword",t)},expression:"editPasswordRuleForm.userPassword"}})],1),s("el-form-item",{attrs:{label:"确认新密码",prop:"checkPassword"}},[s("el-input",{staticClass:"el-input-width",attrs:{autocomplete:"off",type:"password"},model:{value:e.editPasswordRuleForm.checkPassword,callback:function(t){e.$set(e.editPasswordRuleForm,"checkPassword",t)},expression:"editPasswordRuleForm.checkPassword"}})],1),s("el-alert",{staticStyle:{"margin-bottom":"10px","margin-top":"-10px",width:"490px","margin-left":"106px","text-align":"center"},attrs:{title:"即将修改密码 注意文档保存",type:"error"}}),s("el-form-item",[s("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.editPasswordSubmitForm("ruleForm")}}},[e._v("立即修改")]),s("el-button",{attrs:{plain:"",type:"danger"},on:{click:function(t){return e.editPasswordResetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)},n=[],i=(r("d3b7"),r("96cf"),r("4328")),o=r.n(i),a={data:function(){var e=this,t=function(t,r,s){""===r?s(new Error("请输入密码")):(""!==e.editPasswordRuleForm.checkPassword&&e.$refs.ruleForm.validateField("checkPassword"),s())},r=function(t,r,s){""===r?s(new Error("请再次输入密码")):r!==e.editPasswordRuleForm.userPassword?s(new Error("两次输入密码不一致!")):s()};return{isCollapse:!1,activePath:"",userName:"",userType:null,editPasswordDialogVisible:!1,editPasswordRuleForm:{userPassword:"",checkPassword:""},rules:{userPassword:[{validator:t,trigger:"blur"},{min:3,max:16,message:"长度在 6 到 15 个字符",trigger:"blur"}],checkPassword:[{validator:r,trigger:"blur"}]}}},created:function(){this.userName=window.sessionStorage.getItem("userName"),this.userType=window.sessionStorage.getItem("userType")-0,this.activePath=window.sessionStorage.getItem("activePath")},methods:{handleClose:function(){this.editPasswordResetForm("ruleForm"),this.editPasswordDialogVisible=!1},editPasswordSubmitForm:function(e){var t=this;this.$refs[e].validate((function(e){var r,s,n,i;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=15;break}return r={userId:window.sessionStorage.getItem("userId"),userPassword:t.editPasswordRuleForm.checkPassword},s=o.a.stringify(r),a.next=5,regeneratorRuntime.awrap(t.$http.post("/user/updateUser",s));case 5:if(n=a.sent,i=n.data,t.clearCookie(),window.sessionStorage.clear(),200===i.status){a.next=11;break}return a.abrupt("return",t.$message.error("用户信息更新失败！"));case 11:return t.$router.push("/"),a.abrupt("return",t.$message.success("请重新登录！"));case 15:return a.abrupt("return",!1);case 16:case"end":return a.stop()}}))}))},editPasswordResetForm:function(e){this.$refs[e].resetFields()},handleCommand:function(e){"/editpass/editpassword"===e?this.editPasswordDialogVisible=!0:(window.sessionStorage.clear(),this.clearCookie(),this.$router.push("/"))},logout:function(){window.sessionStorage.clear()},getMenuList:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))},toggleCollapse:function(){this.isCollapse=!this.isCollapse},saveNavState:function(e){window.sessionStorage.setItem("activePath",e),this.activePath=e},clearCookie:function(){this.setCookie("","")},setCookie:function(e,t){window.document.cookie="username="+e+";",window.document.cookie="password="+t+";"}}},l=a,c=(r("4077"),r("2877")),u=Object(c["a"])(l,s,n,!1,null,"47cdecdd",null);t["default"]=u.exports},cf05:function(e,t,r){e.exports=r.p+"img/logo.335af26b.png"},d290:function(e,t,r){},d784:function(e,t,r){"use strict";var s=r("9112"),n=r("6eeb"),i=r("d039"),o=r("b622"),a=r("9263"),l=o("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,d){var p=o(e),m=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),f=m&&!i((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[l]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!m||!f||"replace"===e&&!c||"split"===e&&!u){var g=/./[p],h=r(p,""[e],(function(e,t,r,s,n){return t.exec===a?m&&!n?{done:!0,value:g.call(t,r,s)}:{done:!0,value:e.call(r,t,s)}:{done:!1}})),v=h[0],w=h[1];n(String.prototype,e,v),n(RegExp.prototype,p,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)}),d&&s(RegExp.prototype[p],"sham",!0)}}},eec5:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("h3",[e._v("Welcom")]),r("el-card",{staticClass:"box-card upRecordByRemind"},[e.isUpRecordByRemind?r("div",[r("div",{staticClass:"title"},[e._v("跟进提醒")]),e._l(e.upRecordByRemind,(function(t,s){return r("el-collapse",{key:s,model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[r("el-collapse-item",{attrs:{title:t.customerName,name:s}},[r("div",{staticStyle:{"margin-bottom":"15px"}},[r("p",{staticClass:"upRecordByRemindTitle"},[e._v("跟进主题： ")]),r("div",{staticStyle:{"margin-left":"80px","margin-top":"-20px"},domProps:{innerHTML:e._s(t.nextFollowUpTheme)}})]),r("div",[r("p",{staticClass:"upRecordByRemindTitle"},[e._v("跟进内容： "),r("el-link",{staticStyle:{float:"right"},attrs:{type:"primary",href:"/update/updateDetail?id="+t.followUpRecordId}},[e._v("详情")])],1),r("div",{staticStyle:{"margin-left":"80px","margin-top":"-20px"},domProps:{innerHTML:e._s(t.nextFollowUpContent)}})])])],1)}))],2):r("div",{staticClass:"noRemind",staticStyle:{"font-size":"14px",color:"#78b9ee"}},[e._v("暂无更新提醒~")])])],1)},n=[],i=(r("d3b7"),r("96cf"),r("4328")),o=r.n(i),a={data:function(){return{drawer:!1,activeNames:["1"],upRecordByRemind:[],isUpRecordByRemind:!1}},created:function(){this.getUpRecordByRemind(),0!==this.upRecordByRemind.length&&(this.drawer=!0)},methods:{getUpRecordByRemind:function(){var e,t,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return e=o.a.stringify({userId:window.sessionStorage.getItem("userId")}),s.next=3,regeneratorRuntime.awrap(this.$http.post("/followUpRecord/findFollowUpRecordByRemind",e));case 3:if(t=s.sent,r=t.data,200===r.status){s.next=7;break}return s.abrupt("return",this.$message.error("获取更新提醒失败！"));case 7:this.upRecordByRemind=r.data,r.data.length>=1&&(this.isUpRecordByRemind=!0);case 9:case"end":return s.stop()}}),null,this)},handleChange:function(e){}}},l=a,c=(r("9121"),r("2877")),u=Object(c["a"])(l,s,n,!1,null,"45918fb6",null);t["default"]=u.exports},f6f8:function(e,t,r){}}]);
//# sourceMappingURL=login_main_welcome.e73b3f10.js.map