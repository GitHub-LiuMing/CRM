(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["customerUpdate_createUpdate_updateDetail"],{"0d03":function(e,t,a){var r=a("6eeb"),l=Date.prototype,n="Invalid Date",o="toString",s=l[o],c=l.getTime;new Date(NaN)+""!=n&&r(l,o,(function(){var e=c.call(this);return e===e?s.call(this):n}))},"0fc0":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),a("el-breadcrumb-item",{attrs:{to:{path:"/my/myclient"}}},[e._v("我的客户")]),a("el-breadcrumb-item",{attrs:{to:{path:"/update/customerUpdate",query:e.updateDetail}}},[e._v("客户跟进")]),a("el-breadcrumb-item",[e._v("跟进详情")])],1),a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("跟进详情")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text",icon:"el-icon-d-arrow-left"},on:{click:e.returnHandle}},[e._v("返回")])],1),a("div",{staticClass:"cardContent"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textLeft"},[e._v("客户名称")])]),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textRight textRightColor"},[e._v(e._s(e.updateDetail.customerName))])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textLeft"},[e._v("跟进类型")])]),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textRight"},[0===e.updateDetail.followUpRecordType?a("el-tag",{attrs:{type:"danger"}},[e._v("电话")]):1===e.updateDetail.followUpRecordType?a("el-tag",[e._v("微信")]):a("el-tag",{attrs:{type:"info"}},[e._v("阿里旺旺")])],1)])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textLeft"},[e._v("跟进时间")])]),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textRight"},[e._v(e._s(e.updateDetail.followUpRecordUpdateDate))])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textLeft"},[e._v("跟进主题")])]),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textRight"},[e._v(e._s(e.updateDetail.followUpTheme))])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textLeft  "},[e._v("跟进内容")])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"textRight textRightContent",domProps:{innerHTML:e._s(e.updateDetail.nextFollowUpContent)}})])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textLeft"},[e._v("下次提醒时间")])]),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textRight textRightColor"},[e._v(e._s(e.updateDetail.nextRemindDate.split(" ")[0]))])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textLeft"},[e._v("下次跟进主题")])]),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textRight "},[e._v(e._s(e.updateDetail.nextFollowUpTheme))])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"textLeft "},[e._v("下次跟进内容")])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"textRight textRightContent",domProps:{innerHTML:e._s(e.updateDetail.nextFollowUpContent)}})])],1)],1)])],1)},l=[],n=(a("d3b7"),a("96cf"),a("4328")),o=a.n(n),s={data:function(){return{updateDetail:{}}},created:function(){this.getCustomerUpDetail()},methods:{getCustomerUpDetail:function(){var e,t,a;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return e=o.a.stringify({followUpRecordId:this.$route.query.id}),r.next=3,regeneratorRuntime.awrap(this.$http.post("/followUpRecord/findFollowUpRecordById",e));case 3:if(t=r.sent,a=t.data,200===a.status){r.next=7;break}return r.abrupt("return",this.$message.error("获取客户详情失败！"));case 7:this.updateDetail=a.data;case 8:case"end":return r.stop()}}),null,this)},returnHandle:function(){this.$router.push({path:"/update/customerUpdate",query:this.updateDetail})}}},c=s,u=(a("7e38"),a("2877")),i=Object(u["a"])(c,r,l,!1,null,"08145f0a",null);t["default"]=i.exports},"14c3":function(e,t,a){var r=a("c6b6"),l=a("9263");e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var n=a.call(e,t);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return l.call(e,t)}},5319:function(e,t,a){"use strict";var r=a("d784"),l=a("825a"),n=a("7b0b"),o=a("50c4"),s=a("a691"),c=a("1d80"),u=a("8aa5"),i=a("14c3"),p=Math.max,d=Math.min,m=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,a){return[function(a,r){var l=c(this),n=void 0==a?void 0:a[e];return void 0!==n?n.call(a,l,r):t.call(String(l),a,r)},function(e,n){var c=a(t,e,this,n);if(c.done)return c.value;var m=l(e),f=String(this),h="function"===typeof n;h||(n=String(n));var v=m.global;if(v){var x=m.unicode;m.lastIndex=0}var b=[];while(1){var y=i(m,f);if(null===y)break;if(b.push(y),!v)break;var R=String(y[0]);""===R&&(m.lastIndex=u(f,o(m.lastIndex),x))}for(var U="",w=0,_=0;_<b.length;_++){y=b[_];for(var F=String(y[0]),C=p(d(s(y.index),f.length),0),$=[],D=1;D<y.length;D++)$.push(g(y[D]));var T=y.groups;if(h){var k=[F].concat($,C,f);void 0!==T&&k.push(T);var q=String(n.apply(void 0,k))}else q=r(F,f,C,$,T,n);C>=w&&(U+=f.slice(w,C)+q,w=C+F.length)}return U+f.slice(w)}];function r(e,a,r,l,o,s){var c=r+e.length,u=l.length,i=h;return void 0!==o&&(o=n(o),i=f),t.call(s,i,(function(t,n){var s;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return a.slice(0,r);case"'":return a.slice(c);case"<":s=o[n.slice(1,-1)];break;default:var i=+n;if(0===i)return t;if(i>u){var p=m(i/10);return 0===p?t:p<=u?void 0===l[p-1]?n.charAt(1):l[p-1]+n.charAt(1):t}s=l[i-1]}return void 0===s?"":s}))}}))},6547:function(e,t,a){var r=a("a691"),l=a("1d80"),n=function(e){return function(t,a){var n,o,s=String(l(t)),c=r(a),u=s.length;return c<0||c>=u?e?"":void 0:(n=s.charCodeAt(c),n<55296||n>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):n:e?s.slice(c,c+2):o-56320+(n-55296<<10)+65536)}};e.exports={codeAt:n(!1),charAt:n(!0)}},"7e38":function(e,t,a){"use strict";var r=a("a2b4"),l=a.n(r);l.a},"84b5":function(e,t,a){"use strict";var r=a("97ba"),l=a.n(r);l.a},"8aa5":function(e,t,a){"use strict";var r=a("6547").charAt;e.exports=function(e,t,a){return t+(a?r(e,t).length:1)}},9263:function(e,t,a){"use strict";var r=a("ad6d"),l=RegExp.prototype.exec,n=String.prototype.replace,o=l,s=function(){var e=/a/,t=/b*/g;return l.call(e,"a"),l.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=void 0!==/()??/.exec("")[1],u=s||c;u&&(o=function(e){var t,a,o,u,i=this;return c&&(a=new RegExp("^"+i.source+"$(?!\\s)",r.call(i))),s&&(t=i.lastIndex),o=l.call(i,e),s&&o&&(i.lastIndex=i.global?o.index+o[0].length:t),c&&o&&o.length>1&&n.call(o[0],a,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o}),e.exports=o},"97ba":function(e,t,a){},a2b4:function(e,t,a){},ac1f:function(e,t,a){"use strict";var r=a("23e7"),l=a("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(e,t,a){"use strict";var r=a("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b40b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),a("el-breadcrumb-item",{attrs:{to:{path:"/my/myclient"}}},[e._v("我的客户")]),a("el-breadcrumb-item",{attrs:{to:{path:"/update/customerUpdate",query:e.msg}}},[e._v("客户跟进")]),a("el-breadcrumb-item",[e._v("创建跟进")])],1),a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("跟进详情")])]),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.createUpdateRuleForm,rules:e.createUpdateRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"跟进类型",prop:"updateType"}},[a("el-select",{attrs:{placeholder:"请选择跟进类型"},model:{value:e.createUpdateRuleForm.updateType,callback:function(t){e.$set(e.createUpdateRuleForm,"updateType",t)},expression:"createUpdateRuleForm.updateType"}},[a("el-option",{attrs:{label:"电话",value:"0"}}),a("el-option",{attrs:{label:"微信",value:"1"}}),a("el-option",{attrs:{label:"阿里旺旺",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"跟进时间",required:""}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{prop:"date1"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.createUpdateRuleForm.date1,callback:function(t){e.$set(e.createUpdateRuleForm,"date1",t)},expression:"createUpdateRuleForm.date1"}})],1)],1)],1),a("el-form-item",{attrs:{label:"跟进主题",prop:"theme1"}},[a("el-input",{staticClass:"textareaWidth",attrs:{type:"input"},model:{value:e.createUpdateRuleForm.theme1,callback:function(t){e.$set(e.createUpdateRuleForm,"theme1",t)},expression:"createUpdateRuleForm.theme1"}})],1),a("el-form-item",{attrs:{label:"跟进内容",prop:"desc1"}},[a("el-input",{staticClass:"textareaWidth",attrs:{type:"textarea",autosize:{minRows:4},placeholder:e.placeholderText},model:{value:e.createUpdateRuleForm.desc1,callback:function(t){e.$set(e.createUpdateRuleForm,"desc1",t)},expression:"createUpdateRuleForm.desc1"}})],1),a("el-form-item",{attrs:{label:"下次提醒时间",required:""}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{prop:"date2"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.createUpdateRuleForm.date2,callback:function(t){e.$set(e.createUpdateRuleForm,"date2",t)},expression:"createUpdateRuleForm.date2"}})],1)],1)],1),a("el-form-item",{attrs:{label:"下次跟进主题",prop:"theme2"}},[a("el-input",{staticClass:"textareaWidth",attrs:{type:"input"},model:{value:e.createUpdateRuleForm.theme2,callback:function(t){e.$set(e.createUpdateRuleForm,"theme2",t)},expression:"createUpdateRuleForm.theme2"}})],1),a("el-form-item",{attrs:{label:"下次跟进内容",prop:"desc2"}},[a("el-input",{staticClass:"textareaWidth",attrs:{type:"textarea",autosize:{minRows:4},placeholder:e.placeholderText},model:{value:e.createUpdateRuleForm.desc2,callback:function(t){e.$set(e.createUpdateRuleForm,"desc2",t)},expression:"createUpdateRuleForm.desc2"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createUpdateSubmitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.createUpdateResetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)},l=[],n=(a("0d03"),a("d3b7"),a("ac1f"),a("5319"),a("96cf"),a("4328")),o=a.n(n),s={data:function(){return{createUpdateRuleForm:{updateType:"",date1:new Date,date2:new Date,desc1:"",desc2:"",theme1:"",theme2:"",finallyDate1:"",finallyDate2:"",finallyContent1:"",finallyContent2:""},createUpdateRules:{updateType:[{required:!0,message:"请选择跟进类型",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],desc1:[{required:!0,message:"请填写跟进内容",trigger:"blur"}],desc2:[{required:!0,message:"请填写下次跟进内容",trigger:"blur"}],theme1:[{required:!0,message:"请填写跟进主题",trigger:"blur"}],theme2:[{required:!0,message:"请填写下次跟进主题",trigger:"blur"}]},placeholderText:"1.xxxxxxx\n2.xxxxxxx\n3.xxxxxxx",msg:{}}},created:function(){this.msg=this.$route.query},methods:{createUpdateSubmitForm:function(e){var t=this;this.$refs[e].validate((function(e){var a,r,l,n;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(!e){s.next=17;break}return t.createUpdateRuleForm.finallyDate1=t.timeChange(t.createUpdateRuleForm.date1),t.createUpdateRuleForm.finallyDate2=t.timeChange(t.createUpdateRuleForm.date2),t.createUpdateRuleForm.finallyContent1=t.preText(t.createUpdateRuleForm.desc1),t.createUpdateRuleForm.finallyContent2=t.preText(t.createUpdateRuleForm.desc2),a={UserId:t.$route.query.userId,UserName:t.$route.query.userName,CustomerId:t.$route.query.customerId,CustomerName:t.$route.query.customerName,FollowUpDate:t.createUpdateRuleForm.finallyDate1,FollowUpTheme:t.createUpdateRuleForm.theme1,FollowUpContent:t.createUpdateRuleForm.finallyContent1,NextRemindDate:t.createUpdateRuleForm.finallyDate2,NextFollowUpTheme:t.createUpdateRuleForm.theme2,NextFollowUpContent:t.createUpdateRuleForm.finallyContent2,FollowUpRecordType:t.createUpdateRuleForm.updateType},r=o.a.stringify(a),s.next=9,regeneratorRuntime.awrap(t.$http.post("/followUpRecord/addFollowUpRecord",r));case 9:if(l=s.sent,n=l.data,200===n.status){s.next=13;break}return s.abrupt("return",t.$message.error(n.msg));case 13:return t.$router.push({path:"/update/customerUpdate",query:t.msg}),s.abrupt("return",t.$message.success(n.msg));case 17:return s.abrupt("return",!1);case 18:case"end":return s.stop()}}))}))},createUpdateResetForm:function(e){this.$refs[e].resetFields()},timeChange:function(e){var t=e.getTime(),a=new Date(t),r=a.getFullYear()+"/",l=(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"/",n=a.getDate(),o=r+l+n;return o},preText:function(e){return e.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;")},returnHandle:function(){this.$router.push("/update/customerUpdate")}}},c=s,u=(a("84b5"),a("2877")),i=Object(u["a"])(c,r,l,!1,null,"574885b1",null);t["default"]=i.exports},d784:function(e,t,a){"use strict";var r=a("9112"),l=a("6eeb"),n=a("d039"),o=a("b622"),s=a("9263"),c=o("species"),u=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),i=!n((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));e.exports=function(e,t,a,p){var d=o(e),m=!n((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=m&&!n((function(){var t=!1,a=/a/;return"split"===e&&(a={},a.constructor={},a.constructor[c]=function(){return a},a.flags="",a[d]=/./[d]),a.exec=function(){return t=!0,null},a[d](""),!t}));if(!m||!f||"replace"===e&&!u||"split"===e&&!i){var h=/./[d],g=a(d,""[e],(function(e,t,a,r,l){return t.exec===s?m&&!l?{done:!0,value:h.call(t,a,r)}:{done:!0,value:e.call(a,t,r)}:{done:!1}})),v=g[0],x=g[1];l(String.prototype,e,v),l(RegExp.prototype,d,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)}),p&&r(RegExp.prototype[d],"sham",!0)}}},fe62:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),a("el-breadcrumb-item",{attrs:{to:{path:"/my/myclient"}}},[e._v("我的客户")]),a("el-breadcrumb-item",[e._v("客户跟进")])],1),a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("客户跟进")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text",icon:"el-icon-d-arrow-left"},on:{click:e.returnHandle}},[e._v("返回")])],1),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"middle",plain:""},on:{click:e.createUpdateHandle}},[e._v("创建跟进")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"followUpRecordUpdateDate",label:"跟进时间",width:"180"}}),a("el-table-column",{attrs:{prop:"followUpRecordType",label:"跟进类型",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.followUpRecordType?a("el-tag",{attrs:{type:"danger"}},[e._v("电话")]):1===t.row.followUpRecordType?a("el-tag",{attrs:{type:"success"}},[e._v("微信")]):a("el-tag",{attrs:{type:"info"}},[e._v("阿里旺旺")])]}}])}),a("el-table-column",{attrs:{prop:"followUpTheme",label:"主题"}}),a("el-table-column",{attrs:{prop:"followUpContent",label:"跟进内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(t.row.followUpContent)}})]}}])}),a("el-table-column",{attrs:{prop:"nextRemindDate",label:"下次提醒时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nextRemindDate.split(" ")[0])+" ")]}}])}),a("el-table-column",{attrs:{prop:"followUpRecordCreateDate",label:"保存时间"}}),a("el-table-column",{attrs:{prop:"opration",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return e.updateDetailHandle(t.row.followUpRecordId)}}},[e._v("详情")])]}}])})],1)],1)],1)},l=[],n=(a("d3b7"),a("96cf"),a("4328")),o=a.n(n),s={data:function(){return{tableData:[]}},created:function(){this.getCustomerUpdate()},methods:{getCustomerUpdate:function(){var e,t,a;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return e=o.a.stringify({customerId:this.$route.query.customerId}),r.next=3,regeneratorRuntime.awrap(this.$http.post("/followUpRecord/findFollowUpRecordByCustomerId",e));case 3:if(t=r.sent,a=t.data,this.tableData=a.data,200===a.status){r.next=8;break}return r.abrupt("return",this.$message.error("获取客户跟进列表失败！"));case 8:case"end":return r.stop()}}),null,this)},createUpdateHandle:function(){this.$router.push({path:"/update/createUpdate",query:{customerId:this.$route.query.customerId,customerName:this.$route.query.customerName,userId:this.$route.query.userId,userName:this.$route.query.userName}})},updateDetailHandle:function(e){this.$router.push({path:"/update/updateDetail",query:{id:e}})},returnHandle:function(){this.$router.push("/my/myclient")}}},c=s,u=a("2877"),i=Object(u["a"])(c,r,l,!1,null,"0bdd35a0",null);t["default"]=i.exports}}]);
//# sourceMappingURL=customerUpdate_createUpdate_updateDetail.023d6538.js.map