(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["editDetail_custoerPublicAreaDetail"],{"159b":function(t,e,r){var a=r("da84"),s=r("fdbc"),n=r("17c2"),o=r("9112");for(var c in s){var i=a[c],u=i&&i.prototype;if(u&&u.forEach!==n)try{o(u,"forEach",n)}catch(l){u.forEach=n}}},"17c2":function(t,e,r){"use strict";var a=r("b727").forEach,s=r("b301");t.exports=s("forEach")?function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},4160:function(t,e,r){"use strict";var a=r("23e7"),s=r("17c2");a({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"463b":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[t._v("首页")]),r("el-breadcrumb-item",[t._v("我的客户")]),r("el-breadcrumb-item",[t._v("客户详情")])],1),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("客户详情")])]),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.editDetailRuleForm,rules:t.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"客户状态",prop:"customerStatusId"}},[r("el-select",{attrs:{placeholder:"请选择客户状态"},model:{value:t.editDetailRuleForm.customerStatusId,callback:function(e){t.$set(t.editDetailRuleForm,"customerStatusId",e)},expression:"editDetailRuleForm.customerStatusId"}},[r("el-option",{attrs:{label:"跟进中",value:"1"}}),r("el-option",{attrs:{label:"已成交",value:"2"}}),r("el-option",{attrs:{label:"已失效",value:"3"}})],1)],1),r("el-form-item",{attrs:{label:"客户名称",prop:"customerName"}},[r("el-input",{staticClass:"el-input-width",attrs:{disabled:""},model:{value:t.editDetailRuleForm.customerName,callback:function(e){t.$set(t.editDetailRuleForm,"customerName",e)},expression:"editDetailRuleForm.customerName"}})],1),r("el-form-item",{attrs:{label:"联系人",prop:"contactPersonName"}},[r("el-input",{staticClass:"el-input-width",model:{value:t.editDetailRuleForm.contactPersonName,callback:function(e){t.$set(t.editDetailRuleForm,"contactPersonName",e)},expression:"editDetailRuleForm.contactPersonName"}})],1),r("el-form-item",{attrs:{label:"客户电话",prop:"contactPersonPhone"}},[r("el-input",{staticClass:"el-input-width",model:{value:t.editDetailRuleForm.contactPersonPhone,callback:function(e){t.$set(t.editDetailRuleForm,"contactPersonPhone",e)},expression:"editDetailRuleForm.contactPersonPhone"}})],1),r("el-form-item",{attrs:{label:"客户微信",prop:"contactPersonWechat"}},[r("el-input",{staticClass:"el-input-width",model:{value:t.editDetailRuleForm.contactPersonWechat,callback:function(e){t.$set(t.editDetailRuleForm,"contactPersonWechat",e)},expression:"editDetailRuleForm.contactPersonWechat"}})],1),r("el-form-item",{attrs:{label:"阿里旺旺号",prop:"contactPersonWangwang"}},[r("el-input",{staticClass:"el-input-width",model:{value:t.editDetailRuleForm.contactPersonWangwang,callback:function(e){t.$set(t.editDetailRuleForm,"contactPersonWangwang",e)},expression:"editDetailRuleForm.contactPersonWangwang"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.editDetailSubmitForm("ruleForm")}}},[t._v("提交修改")]),r("el-button",{attrs:{plain:"",type:"danger"},on:{click:function(e){return t.editDetailResetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1)],1)},s=[],n=(r("d3b7"),r("498a"),r("96cf"),r("4328")),o=r.n(n),c={data:function(){return{editDetailRuleForm:{customerStatusId:"",customerName:"",contactPersonName:"",contactPersonPhone:"",contactPersonWechat:"",contactPersonWangwang:""},rules:{customerStatusId:[{required:!0,message:"请选择客户状态",trigger:"change"}]}}},created:function(){},methods:{getCustomerDetail:function(){var t,e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return t=o.a.stringify({customerId:this.$route.params.id}),r.next=3,regeneratorRuntime.awrap(this.$http.post("/customer/findCustomerById",t));case 3:e=r.sent,e.data;case 5:case"end":return r.stop()}}),null,this)},editDetailSubmitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var r=e.addCustomRuleForm.CustomerPhone.trim()||e.addCustomRuleForm.CustomerWechat.trim()||e.addCustomRuleForm.CustomerWangwang.trim();if(!r)return e.$message.error("至少输入一种联系方式！");var a=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;return a.test(e.addCustomRuleForm.CustomerPhone.trim())?e.$message.success("提交成功！未写"):e.$message.error("请输入合法得手机号！")}return e.$message.error("提交失败！")}))},editDetailResetForm:function(t){this.$refs[t].resetFields()},returnHandle:function(){this.editDetailResetForm("ruleForm"),this.$router.push("/detail/customerDetail")}}},i=c,u=(r("4c00"),r("2877")),l=Object(u["a"])(i,a,s,!1,null,"3d0e5896",null);e["default"]=l.exports},"498a":function(t,e,r){"use strict";var a=r("23e7"),s=r("58a8").trim,n=r("e070");a({target:"String",proto:!0,forced:n("trim")},{trim:function(){return s(this)}})},"4c00":function(t,e,r){"use strict";var a=r("85ec"),s=r.n(a);s.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var a=r("1d80"),s=r("5899"),n="["+s+"]",o=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),i=function(t){return function(e){var r=String(a(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(c,"")),r}};t.exports={start:i(1),end:i(2),trim:i(3)}},"65f0":function(t,e,r){var a=r("861d"),s=r("e8b5"),n=r("b622"),o=n("species");t.exports=function(t,e){var r;return s(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!s(r.prototype)?a(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"7b1d":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[t._v("首页")]),r("el-breadcrumb-item",{attrs:{to:{path:"/my/CustomerPublicArea"}}},[t._v("客户公海")]),r("el-breadcrumb-item",[t._v("公海详情")])],1),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("公海详情")]),r("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text",icon:"el-icon-d-arrow-left"},on:{click:t.returnHandle}},[t._v("返回")])],1),r("div",{staticClass:"cardContent"},[2!==t.currentUserType?r("el-row",[r("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",plain:"",size:"large"},on:{click:t.removeOtherHandle}},[t._v("转入")]),r("el-select",{staticStyle:{float:"right"},attrs:{placeholder:"请选择"},on:{change:t.selectChange},model:{value:t.userValue,callback:function(e){t.userValue=e},expression:"userValue"}},t._l(t.userList,(function(t){return r("el-option",{key:t.userId,attrs:{label:t.userName,value:t.userId}})})),1)],1):t._e(),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("客户名称")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight textRightColor"},[t._v(t._s(t.customerPublicAreaMsg.customerName))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("客户状态")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight"},["1"===t.customerPublicAreaMsg.customerStatusId?r("el-tag",{attrs:{type:"danger"}},[t._v("跟进中")]):"2"===t.customerPublicAreaMsg.customerStatusId?r("el-tag",{attrs:{type:"success"}},[t._v("已成交")]):r("el-tag",{attrs:{type:"info"}},[t._v("已失效")])],1)])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("上次跟进时间")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight"},[t._v(t._s(t.customerPublicAreaMsg.contactPersonUpdatedDate))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("联系人")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight"},[t._v(" "+t._s(t.customerPublicAreaMsg.contactPersonName)+" ")])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("联系电话")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight"},[t._v(t._s(t.customerPublicAreaMsg.contactPersonPhone))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("微信")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight"},[t._v(t._s(t.customerPublicAreaMsg.contactPersonWechat))])])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textLeft"},[t._v("阿里旺旺号")])]),r("el-col",{attrs:{span:12}},[r("span",{staticClass:"textRight"},[t._v(t._s(t.customerPublicAreaMsg.contactPersonWangwang))])])],1)],1)])],1)},s=[],n=(r("4160"),r("d3b7"),r("159b"),r("96cf"),r("4328")),o=r.n(n),c={data:function(){return{customerPublicAreaMsg:{},currentUserType:null,userList:[],userValue:null,userName:""}},created:function(){this.currentUserType=window.sessionStorage.getItem("userType")-0,this.customerPublicAreaMsg=this.$route.query,this.getUserList(),this.getCustomerAreaDetail()},methods:{returnHandle:function(){this.$router.push({path:"/my/CustomerPublicArea"})},removeOtherHandle:function(){var t,e,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return t=o.a.stringify({customerId:this.$route.query.id,userId:this.userValue,customerPublicAreaStatus:1,userName:this.userName}),a.next=3,regeneratorRuntime.awrap(this.$http.post("/customer/updateCustomer",t));case 3:if(e=a.sent,r=e.data,200===r.status){a.next=7;break}return a.abrupt("return",this.$message.error("修改用户信息失败"));case 7:this.$router.push({path:"/my/CustomerPublicArea"}),this.$message.success(r.msg);case 9:case"end":return a.stop()}}),null,this)},getUserList:function(){var t,e,r,a,s=this;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(this.$http.post("/user/findUser"));case 2:t=n.sent,e=t.data,r=e.data.items,a=[],a=r.forEach((function(t){2===t.userType&&a.push(t),s.userList=a}));case 7:case"end":return n.stop()}}),null,this)},getCustomerAreaDetail:function(){var t,e,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return t=o.a.stringify({customerId:this.$route.query.id}),a.next=3,regeneratorRuntime.awrap(this.$http.post("/customer/findCustomerById",t));case 3:e=a.sent,r=e.data,this.customerPublicAreaMsg={customerName:r.data.customer.customerName||"",customerStatusId:r.data.customer.customerStatusId||"",contactPersonName:r.data.contactPersonList[0].contactPersonName||"",contactPersonPhone:r.data.contactPersonList[0].contactPersonPhone||"",contactPersonWechat:r.data.contactPersonList[0].contactPersonPhone||"",contactPersonWangwang:r.data.contactPersonList[0].contactPersonWangwang||"",contactPersonUpdatedDate:r.data.contactPersonList[0].contactPersonUpdatedDate||""};case 6:case"end":return a.stop()}}),null,this)},selectChange:function(t){var e,r,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(!t){s.next=7;break}return e=o.a.stringify({userId:t}),s.next=4,regeneratorRuntime.awrap(this.$http.post("/user/findUser",e));case 4:r=s.sent,a=r.data,this.userName=a.data.userName;case 7:case"end":return s.stop()}}),null,this)}}},i=c,u=(r("878c"),r("2877")),l=Object(u["a"])(i,a,s,!1,null,"300db4a2",null);e["default"]=l.exports},"85ec":function(t,e,r){},"878c":function(t,e,r){"use strict";var a=r("986e"),s=r.n(a);s.a},"986e":function(t,e,r){},b301:function(t,e,r){"use strict";var a=r("d039");t.exports=function(t,e){var r=[][t];return!r||!a((function(){r.call(null,e||function(){throw 1},1)}))}},b727:function(t,e,r){var a=r("f8c2"),s=r("44ad"),n=r("7b0b"),o=r("50c4"),c=r("65f0"),i=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,l=4==t,m=6==t,d=5==t||m;return function(p,f,h,g){for(var v,b,P=n(p),x=s(P),C=a(f,h,3),w=o(x.length),y=0,R=g||c,L=e?R(p,w):r?R(p,0):void 0;w>y;y++)if((d||y in x)&&(v=x[y],b=C(v,y,P),t))if(e)L[y]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return y;case 2:i.call(L,v)}else if(l)return!1;return m?-1:u||l?l:L}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},e070:function(t,e,r){var a=r("d039"),s=r("5899"),n="​᠎";t.exports=function(t){return a((function(){return!!s[t]()||n[t]()!=n||s[t].name!==t}))}},e8b5:function(t,e,r){var a=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=editDetail_custoerPublicAreaDetail.a2a70618.js.map